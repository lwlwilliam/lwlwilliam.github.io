{% if page.comments != false %}
  {% case site.data.personal.comments_provider %}
    {% when 'gitalk' %}
        <div id="gitalk-container"></div>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
        <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
        <script>
        var gitalk = new Gitalk({
            id: '{{ page.url | truncate: 50, '' }}',
            clientID: '{{ site.data.personal.gitalk.clientID }}',
            clientSecret: '{{ site.data.personal.gitalk.clientSecret }}',
            repo: '{{ site.repository }}',
            owner: '{{ site.author }}',
            admin: ['{{ site.author }}'],
            labels: ['gitalk'],
            perPage: 50,
            createIssueManually: true
        })
        gitalk.render('gitalk-container')
        </script>
  {% endcase %}
{% endif %}
